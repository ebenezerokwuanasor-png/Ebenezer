<!DOCTYPE html>
<html lang="en">
<head>
<meta name="google-site-verification" content="iRwPSc9OUOAsGkfU9MzqmVYmDFWjwTVZHENKnB6eZJI" />
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Ebenezer Okwuanasor | Official Website</title>

<!-- BASIC SEO -->
<meta name="description" content="Official website of Ebenezer Okwuanasor. Secure admin posts, locked content, and Firebase authentication.">
<meta name="keywords" content="Ebenezer Okwuanasor, locked posts, Firebase login, admin panel">
<meta name="author" content="Ebenezer Okwuanasor">
<meta name="robots" content="index, follow">

<link rel="icon" href="favicon.ico">

<style>
:root{
  --bg:#f2f5ff;
  --card:#ffffff;
  --text:#111;
  --p:#4f6cff;
  --s:#ff4fd8;
}
.dark{
  --bg:#0d1020;
  --card:#1b2140;
  --text:#fff;
}
body{
  margin:0;
  font-family:system-ui;
  background:var(--bg);
  color:var(--text);
}
header,footer{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  background:var(--card);
  box-shadow:0 4px 15px rgba(0,0,0,.2);
}
header img{
  height:42px;
}
button{
  background:linear-gradient(45deg,var(--p),var(--s));
  border:none;
  color:white;
  padding:8px 16px;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
}
input,textarea{
  width:100%;
  padding:8px;
  margin:6px 0;
}
#posts{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  padding:15px;
}
.post{
  width:300px;
  background:var(--card);
  margin:10px;
  padding:15px;
  border-radius:18px;
  box-shadow:0 6px 20px rgba(0,0,0,.25);
}
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:1000;
}
.box{
  background:var(--card);
  padding:20px;
  border-radius:18px;
  max-width:95%;
}
.close{
  background:#ff3b3b;
  margin-top:10px;
}
.editor{
  border:1px solid #aaa;
  min-height:120px;
  padding:10px;
}
</style>
</head>

<body>

<header>
  <button onclick="openBox('adminLogin')">Admin</button>
  <img src="favicon.ico" alt="Logo">
  <button onclick="toggleTheme()">ðŸŒž / ðŸŒ™</button>
</header>

<div id="posts"></div>

<footer>
  <button onclick="openBox('infoBox')">Info</button>
  <button onclick="openBox('contactBox')">Contact</button>
</footer>

<!-- ADMIN LOGIN -->
<div class="overlay" id="adminLogin">
  <div class="box">
    <h3>Admin Login</h3>
    <input id="adminEmail" placeholder="Email">
    <input id="adminPass" type="password" placeholder="Password">
    <button onclick="adminLogin()">Login</button>
    <p id="adminMsg"></p>
    <button class="close" onclick="closeBox('adminLogin')">Close</button>
  </div>
</div>

<!-- ADMIN PANEL -->
<div class="overlay" id="adminPanel">
  <div class="box">
    <h3>Admin Panel</h3>
    <button onclick="newPost(false)">Make Free Post</button>
    <button onclick="newPost(true)">Make Locked Post</button>
    <button onclick="generateUnlockCode()">Generate Unlock Code</button>
    <button class="close" onclick="closeBox('adminPanel')">Close</button>
  </div>
</div>

<!-- POST FORM -->
<div class="overlay" id="postForm">
  <div class="box">
    <input id="pTitle" placeholder="Post title">
    <div id="pBody" class="editor" contenteditable></div>
    <input id="pFile" placeholder="GitHub file URL (optional)">
    <div id="lockFields">
      <input id="pPrice" placeholder="Price">
      <input id="pCurrency" placeholder="Currency">
      <input id="pAccount" placeholder="Account details">
    </div>
    <button onclick="publishPost()">Publish</button>
    <button class="close" onclick="closeBox('postForm')">Close</button>
  </div>
</div>

<!-- INFO -->
<div class="overlay" id="infoBox">
  <div class="box">
    <p>Admin-managed info section.</p>
    <button class="close" onclick="closeBox('infoBox')">Close</button>
  </div>
</div>

<!-- CONTACT -->
<div class="overlay" id="contactBox">
  <div class="box">
    <p>Email: <b>ebenezerokwuanasor@gmail.com</b></p>
    <button class="close" onclick="closeBox('contactBox')">Close</button>
  </div>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyAdX_Vtx_Nka22I19xFbcYGw5Axa8RG7EU",
  authDomain: "rad-ebenzer-isd.firebaseapp.com",
  projectId: "rad-ebenzer-isd",
  storageBucket: "rad-ebenzer-isd.firebasestorage.app",
  messagingSenderId: "982141158464",
  appId: "1:982141158464:web:ecbe1036ec51de4061cba5"
};

window.app = initializeApp(firebaseConfig);
window.auth = getAuth(app);
window.signIn = signInWithEmailAndPassword;
</script>

<script>
let posts=[],isLocked=false;

function openBox(id){document.getElementById(id).style.display="flex"}
function closeBox(id){document.getElementById(id).style.display="none"}
function toggleTheme(){document.body.classList.toggle("dark")}

async function loadPosts(){
  const r=await fetch("posts.json");
  posts=await r.json();
  renderPosts();
}
function renderPosts(){
  const p=document.getElementById("posts");
  p.innerHTML="";
  posts.forEach((x,i)=>{
    let d=document.createElement("div");
    d.className="post";
    d.innerHTML=`<h3>${x.title}</h3>${x.body}`;
    d.onclick=()=>x.locked?alert("Locked post"):alert("Free post");
    p.appendChild(d);
  });
}

function adminLogin(){
  signIn(auth,adminEmail.value,adminPass.value)
  .then(()=>{closeBox("adminLogin");openBox("adminPanel")})
  .catch(()=>adminMsg.innerText="Invalid login");
}

function newPost(l){
  isLocked=l;
  lockFields.style.display=l?"block":"none";
  openBox("postForm");
}

function publishPost(){
  signIn(auth,adminEmail.value,adminPass.value)
  .then(()=>{
    posts.push({
      title:pTitle.value,
      body:pBody.innerHTML,
      file:pFile.value,
      locked:isLocked,
      price:pPrice.value,
      currency:pCurrency.value,
      account:pAccount.value
    });
    download(JSON.stringify(posts,null,2),"posts.json");
  });
}

function generateUnlockCode(){
  signIn(auth,adminEmail.value,adminPass.value)
  .then(()=>{
    const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";
    let code="";
    for(let i=0;i<20;i++)code+=chars[Math.floor(Math.random()*chars.length)];
    alert("Unlock Code:\n"+code);
  });
}

function download(data,name){
  const a=document.createElement("a");
  a.href=URL.createObjectURL(new Blob([data]));
  a.download=name;
  a.click();
}

loadPosts();
</script>

</body>
</html>
